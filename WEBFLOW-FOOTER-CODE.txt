===========================================
WEBFLOW FOOTER CODE
===========================================
Use apenas as linhas <script src="..."> abaixo.
NÃO cole o conteúdo dos .js no Webflow (limite de 50.000 caracteres).
O navegador carrega o script pela URL — sem limite.

PREREQUISITES (load before, in Head or Footer):
- Locomotive Scroll: https://cdn.jsdelivr.net/npm/locomotive-scroll@beta/bundled/locomotive-scroll.min.js
- GSAP + ScrollTrigger: https://cdn.prod.website-files.com/gsap/3.14.2/gsap.min.js, ScrollTrigger.min.js
- Finsweet Attributes (for lists): https://attributes.finsweet.com/list/list.js

WELDPOLY SCRIPTS (order matters) — sempre @main (última versão):
<script src="https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-webflow-core.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-quote-system.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-spare-parts-quantity-control-FIXED-ECOMMERCE.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-navigation.js" defer></script>
<script src="https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-finsweet-sort.js" defer></script>

===========================================
INSTRUCTIONS:
===========================================

1. Go to: Webflow → Site Settings → Custom Code
2. Load Locomotive Scroll, GSAP, ScrollTrigger and Finsweet (if using lists) first
3. Paste the weldpoly scripts above in the Footer Code
4. Click "Save"
5. Publish the site

⚠️ SCRIPT ORDER:
1. weldpoly-webflow-core.js (Lenis scroll + Locomotive init + Content reveal - requires Locomotive Scroll, GSAP, ScrollTrigger)
2. weldpoly-quote-system.js (quote cart, modal, products)
3. weldpoly-spare-parts-quantity-control-FIXED-ECOMMERCE.js (add spare parts to quote - load AFTER quote-system)
4. weldpoly-navigation.js (menu toggle + nav contrast)
5. weldpoly-finsweet-sort.js (requires Finsweet Attributes - only on pages with lists)

===========================================
SCRIPT URLs:
===========================================

weldpoly-webflow-core.js (unified: Lenis + Locomotive + Content reveal):
https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-webflow-core.js

weldpoly-quote-system.js (quote cart + modal):
https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-quote-system.js

weldpoly-spare-parts-quantity-control-FIXED-ECOMMERCE.js:
https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-spare-parts-quantity-control-FIXED-ECOMMERCE.js

weldpoly-navigation.js:
https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-navigation.js

weldpoly-finsweet-sort.js:
https://cdn.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/weldpoly-finsweet-sort.js

GitHub Repository:
https://github.com/francastudio/weldpoly-scripts

===========================================
VERIFICATION:
===========================================

✅ Repository verified and accessible
✅ Files confirmed at repository root (same level)
✅ URLs tested and working

To verify scripts are loading:

1. Open the browser console (F12)
2. Check for loading errors
3. Type: typeof window.initQuoteSystem === 'function'
4. Should return: true

===========================================
QUOTE MODAL - Templates hidden by default (add to Head Code):
[data-quote-item], [data-quote-part-item] { display: none !important; }
(Evita que os templates apareçam ao abrir o modal antes do script renderizar)

===========================================
PRODUCT DETAIL PAGE - Para spare parts + remoção em grupo:
No template da página de produto, adicione:

- No h1 ou título: data-product-slug="[slug]" (ex: field-basic-160), data-quote-product-title="" (usa textContent)
- No tagline/faixa de tamanho: data-product-size-range="" (vazio; usa textContent, ex: "40 TO 160MM 1.5" TO 6.2"")

No template do modal (quote_item), opcional: data-quote-size-range (para exibir o size range em elemento separado).
Se não existir, o size range é concatenado à descrição.

===========================================
REQUEST-A-QUOTE PAGE - Lista de itens:
Na página /get-a-quote, adicione estes atributos (Custom Attributes no Webflow):

1. Container da lista: data-quote-list (no div que envolve a lista)
2. Título: data-request-a-quote-title (no h2 "QUOTE (X ITEMS)")
3. Template: data-quote-placeholder (num div DENTRO do container, com Display: None)
   O template precisa ter: [data-quote-title], [data-quote-description], [data-quote-number],
   .quote_plus, .quote_minus, [data-quote-remove]

===========================================
NAV CONTRAST - CSS (add to Head Code):
===========================================
Target: .navigation_container (not .navigation)

/* Light sections: dark text */
.navigation_container.nav--over-light { color: #131313 !important; }
.navigation_container.nav--over-light .nav__logo,
.navigation_container.nav--over-light .nav__button-text,
.navigation_container.nav--over-light a { color: #131313 !important; }
.navigation_container.nav--over-light .centered-nav__toggle-bar { background-color: #131313 !important; }

/* Dark variant: white text (base, request-a-quote) — when NOT scrolled (transparent/dark bg) */
.navigation[data-wf--navigation--variant="base"]:not(.nav--scrolled) .navigation_container,
.navigation[data-wf--navigation--variant="request-a-quote"]:not(.nav--scrolled) .navigation_container { color: #fff !important; }
.navigation[data-wf--navigation--variant="base"]:not(.nav--scrolled) .navigation_container .nav__logo,
.navigation[data-wf--navigation--variant="base"]:not(.nav--scrolled) .navigation_container .nav__button-text,
.navigation[data-wf--navigation--variant="base"]:not(.nav--scrolled) .navigation_container a,
.navigation[data-wf--navigation--variant="base"]:not(.nav--scrolled) .navigation_container .hamburger-nav__a,
.navigation[data-wf--navigation--variant="base"]:not(.nav--scrolled) .navigation_container .hamburger-nav__p,
.navigation[data-wf--navigation--variant="request-a-quote"]:not(.nav--scrolled) .navigation_container .nav__logo,
.navigation[data-wf--navigation--variant="request-a-quote"]:not(.nav--scrolled) .navigation_container .nav__button-text,
.navigation[data-wf--navigation--variant="request-a-quote"]:not(.nav--scrolled) .navigation_container a,
.navigation[data-wf--navigation--variant="request-a-quote"]:not(.nav--scrolled) .navigation_container .hamburger-nav__a,
.navigation[data-wf--navigation--variant="request-a-quote"]:not(.nav--scrolled) .navigation_container .hamburger-nav__p { color: #fff !important; }
.navigation[data-wf--navigation--variant="base"]:not(.nav--scrolled) .navigation_container .centered-nav__toggle-bar,
.navigation[data-wf--navigation--variant="request-a-quote"]:not(.nav--scrolled) .navigation_container .centered-nav__toggle-bar { background-color: #fff !important; }

/* When scrolled (white bg): dark text */
.navigation.nav--scrolled .navigation_container,
.navigation.nav--scrolled .navigation_container .nav__logo,
.navigation.nav--scrolled .navigation_container .nav__button-text,
.navigation.nav--scrolled .navigation_container a { color: #131313 !important; }
.navigation.nav--scrolled .navigation_container .centered-nav__toggle-bar { background-color: #131313 !important; }

/* Variant 786667dd (dark bg when scrolled): white text for contrast */
.navigation.nav--scrolled .navigation_container.w-variant-786667dd-68f0-ad1b-a709-087eee46453b,
.navigation.nav--scrolled .navigation_container.w-variant-786667dd-68f0-ad1b-a709-087eee46453b .nav__logo,
.navigation.nav--scrolled .navigation_container.w-variant-786667dd-68f0-ad1b-a709-087eee46453b .nav__button-text,
.navigation.nav--scrolled .navigation_container.w-variant-786667dd-68f0-ad1b-a709-087eee46453b a,
.navigation.nav--scrolled .navigation_container.w-variant-786667dd-68f0-ad1b-a709-087eee46453b .hamburger-nav__a,
.navigation.nav--scrolled .navigation_container.w-variant-786667dd-68f0-ad1b-a709-087eee46453b .hamburger-nav__p { color: #fff !important; }
.navigation.nav--scrolled .navigation_container.w-variant-786667dd-68f0-ad1b-a709-087eee46453b .centered-nav__toggle-bar { background-color: #fff !important; }

Menu aberto — background mais escuro (adicione ao Head Code):
[data-navigation-status="active"] .centered-nav { background-color: #0a0a0a !important; }

===========================================
NAV SCROLL BACKGROUND - CSS (add to Head Code):
===========================================
No topo: transparente. Ao rolar: cor sólida. Target: .navigation (não .centered-nav__bg).

/* No topo da página: background transparente */
.navigation {
  background-color: transparent !important;
  transition: transform 0.3s ease, background-color 0.3s ease;
}
/* Ao rolar: background com cor selecionada */
.navigation.nav--scrolled {
  background-color: rgba(255, 255, 255, 0.95) !important;
}
/* Variant 786667dd: fundo escuro ao rolar (texto branco) */
.navigation.nav--scrolled:has(.navigation_container.w-variant-786667dd-68f0-ad1b-a709-087eee46453b) {
  background-color: rgba(0, 0, 0, 0.9) !important;
}

===========================================
NAV SCROLL HIDE/SHOW - CSS (add to Head Code):
===========================================
Esconde o menu ao rolar para baixo, mostra ao rolar para cima. Sempre visível no topo.
(transition já incluída no bloco NAV SCROLL BACKGROUND acima)

.navigation.nav--hidden {
  transform: translateY(-100%);
}

===========================================
GET-A-QUOTE PAGE - Empty cart layout (add to Head Code):
===========================================
When cart is empty on /get-a-quote: hide "QUOTE (0 ITEMS) continue browsing" block,
show form on the left. Covers: .request-quote_wrapper, .request-a-quote_content, [quote-content]

body.quote-request-empty .request-quote_wrapper,
body.quote-request-empty .request-a-quote_content,
body.quote-request-empty [quote-content] {
  display: none !important;
}
body.quote-request-empty .about__grid-content {
  grid-template-columns: 1fr;
}
body.quote-request-empty .contact_content {
  grid-column: 1;
}

===========================================
UPDATES:
===========================================

URLs use @main — o site no Webflow passa a usar a última versão ao publicar no GitHub.
Não é preciso alterar o Footer Code no Webflow quando houver novo push.

FORÇAR ATUALIZAÇÃO IMEDIATA (após push): O script atualizar-github-auto.sh purga o
cache do jsDelivr automaticamente. Se precisar purgar manualmente, acesse:
https://purge.jsdelivr.net/gh/francastudio/weldpoly-scripts@main/nome-do-arquivo.js

Latest commit: 077a6ab (2026-02-13 10:47:24)

✅ Vertical scroll inside modal div (`.quote_modal-content`)
✅ Dynamic max-height to keep actions visible
✅ Compatible with Locomotive Scroll/Lenis
✅ Page scroll disabled when modal is open
✅ Scroll enabled only in modal content wrapper

===========================================
